{"version":3,"sources":["webpack:///src/app/modules/account/profile/profile.component.html","webpack:///src/app/modules/account/account.module.ts","webpack:///src/app/modules/account/profile/profile.component.css","webpack:///src/app/modules/account/profile/profile.component.ts","webpack:///src/app/modules/core/model/account-detail.model.ts","webpack:///src/app/modules/core/services/account.service.ts"],"names":["AccountModule","declarations","imports","forChild","path","component","exports","ProfileComponent","accountService","jwtTokenService","authService","formBuilder","account","subscribe","role","getRole","form","group","emailAdress","accountDetail","required","firstName","lastName","valid","value","id","saveAccountDetail","selector","template","AccountDetail","AccountService","httpClient","constant","userName","get","SERVICE_URL","resData","code","data","post","next","providedIn"],"mappings":"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","file":"default~modules-core-components-core-module~src-app-modules-account-account-module-es5.js","sourcesContent":["export default \"<div class=\\\"header pb-8 pt-5 pt-lg-8 d-flex align-items-center\\\"\\n  style=\\\"min-height: 600px; background-image: url(assets/img/theme/profile-cover.jpg); background-size: cover; background-position: center top;\\\">\\n  <!-- Mask -->\\n  <span class=\\\"mask bg-gradient-danger opacity-8\\\"></span>\\n  <!-- Header container -->\\n  <div class=\\\"container-fluid d-flex align-items-center\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-lg-12 col-md-10\\\">\\n        <div class=\\\"col-md-12 col-lg-12\\\">\\n          <h1 class=\\\"display-2 text-white\\\">Merhaba {{ account.accountDetail.firstName  }} {{ account.accountDetail.lastName}} ,</h1>\\n        </div>\\n        <div class=\\\"col-md-12 col-lg-12\\\">\\n          <p class=\\\"text-white mt-0 mb-2\\\">Profil sayfana hoşgeldin.</p>\\n        </div>\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"container-fluid mt--7\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-xl-4 order-xl-2 mb-5 mb-xl-0\\\">\\n      <div class=\\\"card card-profile shadow\\\">\\n        <div class=\\\"row justify-content-center\\\">\\n          <div class=\\\"col-lg-3 order-lg-2\\\">\\n            <div class=\\\"card-profile-image\\\">\\n              <a href=\\\"javascript:void(0)\\\">\\n                <img src=\\\"assets/img/theme/team-4-800x800.jpg\\\" class=\\\"rounded-circle\\\">\\n              </a>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4\\\">\\n          <div class=\\\"d-flex justify-content-between\\\">\\n            <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-sm btn-info mr-4\\\">Connect</a>\\n            <a href=\\\"javascript:void(0)\\\" class=\\\"btn btn-sm btn-default float-right\\\">Message</a>\\n          </div>\\n        </div>\\n        <div class=\\\"card-body pt-0 pt-md-4\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col\\\">\\n              <div class=\\\"card-profile-stats d-flex justify-content-center mt-md-5\\\">\\n                <span class=\\\"heading\\\">{{ role }}</span>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"text-center\\\">\\n            <h3>\\n              {{ account.accountDetail.firstName }} {{ account.accountDetail.lastName}}<span class=\\\"font-weight-light\\\">, 27</span>\\n            </h3>\\n            <div class=\\\"h5 font-weight-300\\\">\\n              <i class=\\\"ni location_pin mr-2\\\"></i>Aydınevler, İstanbul\\n            </div>\\n\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"col-xl-8 order-xl-1\\\">\\n      <form role=\\\"form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n        <div class=\\\"card bg-secondary shadow\\\">\\n            <div class=\\\"card-header bg-white border-0\\\">\\n            <div class=\\\"row align-items-center\\\">\\n                <div class=\\\"col-8\\\">\\n                <h3 class=\\\"mb-0\\\">Profilim</h3>\\n                </div>\\n                <div class=\\\"col-4 text-right\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary\\\">Kaydet</button>\\n                </div>\\n            </div>\\n            </div>\\n            <div class=\\\"card-body\\\">\\n            \\n                <h6 class=\\\"heading-small text-muted mb-4\\\">Kişisel Bilgiler</h6>\\n                <div class=\\\"pl-lg-4\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-lg-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"form-control-label\\\" for=\\\"input-username\\\">Kullanıcı Adı</label>\\n                        <input type=\\\"text\\\" id=\\\"input-username\\\" class=\\\"form-control form-control-alternative\\\"\\n                        placeholder=\\\"Username\\\" disabled value=\\\"{{ account.username  }}\\\">\\n                    </div>\\n                    </div>\\n                    <div class=\\\"col-lg-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"form-control-label\\\" for=\\\"input-email\\\">Email</label>\\n                        <input type=\\\"email\\\" id=\\\"input-email\\\" formControlName=\\\"emailAdress\\\" name=\\\"emailAdress\\\" \\n                        class=\\\"form-control form-control-alternative\\\"\\n                        placeholder=\\\"{{ account.accountDetail.emailAdress  }}\\\">\\n                    </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-lg-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"form-control-label\\\" for=\\\"input-first-name\\\">Ad</label>\\n                        <input type=\\\"text\\\" id=\\\"input-first-name\\\" formControlName=\\\"firstName\\\" name=\\\"firstName\\\"\\n                          class=\\\"form-control form-control-alternative\\\"\\n                         placeholder=\\\"{{ account.accountDetail.firstName  }}\\\">\\n                    </div>\\n                    </div>\\n                    <div class=\\\"col-lg-6\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label class=\\\"form-control-label\\\" for=\\\"input-last-name\\\">Soyad</label>\\n                        <input type=\\\"text\\\" id=\\\"input-last-name\\\" formControlName=\\\"lastName\\\" name=\\\"lastName\\\"\\n                          class=\\\"form-control form-control-alternative\\\"\\n                        placeholder=\\\"{{ account.accountDetail.lastName  }}\\\">\\n                    </div>\\n                    </div>\\n                </div>\\n                </div>\\n                <hr class=\\\"my-4\\\" />\\n               \\n            </div>\\n        </div>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n\"","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { ProfileComponent } from \"./profile/profile.component\";\r\n\r\n@NgModule({\r\n    declarations:[\r\n        ProfileComponent\r\n    ],\r\n    imports:[\r\n        CommonModule,\r\n        ReactiveFormsModule,\r\n        RouterModule.forChild([\r\n            { path:'',component:ProfileComponent}\r\n        ]),\r\n        \r\n    \r\n    ],\r\n    exports:[\r\n        RouterModule, ReactiveFormsModule,FormsModule\r\n    ]\r\n\r\n})\r\nexport class AccountModule{\r\n\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWNjb3VudC9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Account } from 'src/app/modules/core/model/account.model';\nimport { AccountDetail } from '../../core/model/account-detail.model';\nimport { AccountService } from '../../core/services/account.service';\nimport { AuthService } from '../../core/services/auth.service';\nimport { JWTTokenService } from '../../core/services/jwttoken.service';\n\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n  form: FormGroup;\n  account: Account;\n  role:string;\n\n  constructor(private accountService:AccountService,\n    private jwtTokenService:JWTTokenService,\n    private authService: AuthService,\n    private formBuilder:FormBuilder) { }\n\n  ngOnInit()\n  {\n    this.authService.account.subscribe(account =>\n    {\n      this.account = account;\n    })\n    this.role = this.jwtTokenService.getRole()[0]\n    this.form = this.formBuilder.group({\n      emailAdress: [this.account.accountDetail.emailAdress,Validators.required],\n      firstName: [this.account.accountDetail.firstName,Validators.required],\n      lastName: [this.account.accountDetail.lastName,Validators.required]\n    })\n\n   \n  }\n\n  onSubmit(){\n    if(this.form.valid){\n      const accountDetail:AccountDetail = this.form.value;\n      accountDetail.id = this.account.accountDetail.id; \n      this.account.accountDetail = accountDetail;\n      this.accountService.saveAccountDetail(this.account);\n    }\n  }\n}\n","export class AccountDetail{\n\n   constructor(\n       public id:number,\n       public firstName:string,\n       public lastName:string,\n       public emailAdress:string\n   ){}\n}","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { ApiResponeModel } from \"../constant/api-response.model\";\nimport { Constant } from \"../constant/constant\";\nimport { AccountDetail } from \"../model/account-detail.model\";\nimport { Account } from \"../model/account.model\";\nimport { AuthService } from \"./auth.service\";\nimport { JWTTokenService } from \"./jwttoken.service\";\n\n@Injectable({ providedIn : 'root'})\nexport class AccountService{\n    constant = new Constant();\n    account:Account;\n    constructor(private authService:AuthService,\n      private jwtTokenService:JWTTokenService,\n      private httpClient:HttpClient){}\n\n\n    public getAccountDetail(userName:string){\n        \n        let account = new Account(userName,null);\n   \n         this.httpClient.get<ApiResponeModel>(this.constant.SERVICE_URL+'/manage/myprofile')\n           .subscribe(resData=>{\n             if(resData.code === '200'){\n             \n              const role = this.jwtTokenService.getRole();\n               const data = <AccountDetail>resData.data;\n               const accountDetail = new AccountDetail(data.id,data.firstName,data.lastName,data.emailAdress);\n               this.account = new Account(userName,accountDetail,null,role);\n             }\n           });\n       }\n\n       public saveAccountDetail(account:Account){\n        this.httpClient.post<ApiResponeModel>(this.constant.SERVICE_URL+'/manage/myprofile',account.accountDetail)\n          .subscribe(resData=>{\n              this.authService.account.next(account);\n          })\n      }\n\n}"]}