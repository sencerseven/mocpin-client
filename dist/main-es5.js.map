{"version":3,"sources":["webpack:///src/app/app.component.html","webpack:///src/app/modules/core/components/loading-spinner/loading-spinner.component.html","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.css","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/app.routing.ts","webpack:///src/app/modules/core/components/loading-spinner/loading-spinner.component.css","webpack:///src/app/modules/core/components/loading-spinner/loading-spinner.component.ts","webpack:///src/app/modules/core/constant/constant.ts","webpack:///src/app/modules/core/enums/Role.enum.ts","webpack:///src/app/modules/core/guard/auth.guard.ts","webpack:///src/app/modules/core/interceptors/auth-interceptor.service.ts","webpack:///src/app/modules/core/model/account.model.ts","webpack:///src/app/modules/core/model/user-token.model.ts","webpack:///src/app/modules/core/services/auth.service.ts","webpack:///src/app/modules/core/services/jwttoken.service.ts","webpack:///src/app/modules/core/services/local-storage.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","webpackAsyncContextKeys","Object","module","exports","AppComponent","router","title","loading","events","subscribe","console","log","navigationInterceptor","event","setTimeout","lat","lng","selector","template","AppModule","imports","declarations","providers","provide","useClass","multi","bootstrap","routes","path","loadChildren","canActivate","data","roles","ADMIN","SUPERVISOR","AppRoutingModule","forRoot","useHash","LoadingSpinnerComponent","Constant","SERVICE_URL","defineProperty","value","Role","AuthGuard","authService","jwtTokenService","route","state","tokenRole","getRole","getChildRole","includes","url","navigate","hasRole","role","firstChild","providedIn","AuthInterceptorService","localStorageService","next","token","getJwtToken","handle","modifiedReq","clone","headers","set","_token","pipe","body","requestResponse","JSON","parse","stringify","err","status","error","Account","username","accountDetail","roleType","UserToken","_tokenExpirationDate","_rtoken","Date","AuthService","httpClient","account","getAccount","constant","userData","localStorage","getItem","decodedToken","parseJwt","password","formData","FormData","append","post","handleError","resData","expirationDate","getTime","expires_in","userToken","access_token","refresh_token","setToken","getDecodeToken","user_detail","errRes","errorMessage","removeToken","jwtData","split","decodedJwtJsonData","window","atob","decodedJwtData","JWTTokenService","putUserToken","jwtToken","decodeToken","displayname","authorities","i","length","replace","email","exp","expiryTime","getExpiryTime","removeTokenUser","LocalStorageService","setItem","removeItem","province","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["export default \"<div *ngIf=\\\"loading\\\" id=\\\"spinner\\\" style=\\\"position: absolute; z-index: 1 important!;\\\">\\n    <app-loading-spinner></app-loading-spinner>\\n</div>\\n<router-outlet ></router-outlet>\\n\\n\"","export default \"<div class=\\\"smt-spinner-circle\\\">\\n    <div class=\\\"smt-spinner\\\"></div>\\n    <div class=\\\"smt-spinner-inner-circle\\\"></div>\\n    <div style=\\\"text-align: center;\\\">Yükleniyor</div> \\n </div>\"","var map = {\n\t\"./modules/auth/auth.module\": [\n\t\t\"./src/app/modules/auth/auth.module.ts\",\n\t\t\"modules-auth-auth-module\"\n\t],\n\t\"./modules/core/components/core.module\": [\n\t\t\"./src/app/modules/core/components/core.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-account-account-module\",\n\t\t\"modules-core-components-core-module\"\n\t],\n\t\"src/app/modules/account/account.module\": [\n\t\t\"./src/app/modules/account/account.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-account-account-module\"\n\t],\n\t\"src/app/modules/branch/branch.module\": [\n\t\t\"./src/app/modules/branch/branch.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~src-app-modules-branch-branch-module~src-app-modules-company-company-module\"\n\t],\n\t\"src/app/modules/company/company.module\": [\n\t\t\"./src/app/modules/company/company.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~src-app-modules-branch-branch-module~src-app-modules-company-company-module\",\n\t\t\"src-app-modules-company-company-module\"\n\t],\n\t\"src/app/modules/loyalty/loyalty.module\": [\n\t\t\"./src/app/modules/loyalty/loyalty.module.ts\",\n\t\t\"src-app-modules-loyalty-loyalty-module\"\n\t],\n\t\"src/app/modules/settings/settings.module\": [\n\t\t\"./src/app/modules/settings/settings.module.ts\",\n\t\t\"src-app-modules-settings-settings-module\"\n\t],\n\t\"src/app/modules/user/user.module\": [\n\t\t\"./src/app/modules/user/user.module.ts\",\n\t\t\"src-app-modules-user-user-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","export default \"#spinner {\\n  position: fixed;\\n  height: 100vh;\\n  width: 100vw;\\n  background-color: black;\\n  opacity: 0.7;\\n  z-index: 1;  \\n}\\n\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7RUFDWix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLFVBQVU7QUFDWiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3NwaW5uZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGhlaWdodDogMTAwdmg7XG4gIHdpZHRoOiAxMDB2dztcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIG9wYWNpdHk6IDAuNztcbiAgei1pbmRleDogMTsgIFxufVxuXG5cblxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavigationCancel, NavigationEnd, NavigationError, NavigationStart, Router, RouterEvent } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  title: string = 'AGM project';\n  lat: number;\n  lng: number;\n  zoom: number;\n  loading = true;\n\n  \n  constructor(private router: Router) {\n    this.router.events.subscribe((e : RouterEvent) => {\n        console.log(\"navigate\");\n        this.navigationInterceptor(e);\n      \n       \n     });\n  }\n\n  // Shows and hides the loading spinner during RouterEvent changes\n  navigationInterceptor(event: RouterEvent): void {\n    if (event instanceof NavigationStart) {\n      this.loading = true\n    }\n\n    setTimeout(() =>{\n      if (event instanceof NavigationEnd) {\n        this.loading = false\n      }\n  \n      // Set loading state to false in both of the below events to hide the spinner in case a request fails\n      if (event instanceof NavigationCancel) {\n        this.loading = false\n      }\n      if (event instanceof NavigationError) {\n        this.loading = false\n      }\n    },300);\n    \n  }\n  ngOnInit(): void\n  {\n    this.title = 'My first AGM project';\n    this.lat = 51.678418;\n    this.lng = 7.809007;\n  }\n \n}","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouterModule } from '@angular/router';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app.routing';\nimport { LoadingSpinnerComponent } from './modules/core/components/loading-spinner/loading-spinner.component';\nimport { AuthInterceptorService } from './modules/core/interceptors/auth-interceptor.service';\n\n\n@NgModule({\n  imports: [\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    NgbModule,\n    RouterModule,\n    AppRoutingModule,\n    \n  ],\n  declarations: [\n    AppComponent,\n    LoadingSpinnerComponent\n  ],\n  providers: [ {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptorService, multi:true}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Role } from './modules/core/enums/Role.enum';\nimport { AuthGuard } from './modules/core/guard/auth.guard';\n\n\nconst routes: Routes =[\n \n  {\n    path: '',\n    loadChildren: './modules/core/components/core.module#CoreModule',\n    canActivate:[AuthGuard],\n    data: { roles : [Role.ADMIN,Role.SUPERVISOR]}\n    \n  },\n  {\n    path: 'auth', loadChildren: './modules/auth/auth.module#AuthModule'\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    RouterModule.forRoot(routes,{\n      useHash: false\n    })\n  ],\n  exports: [\n  ],\n})\nexport class AppRoutingModule { }\n","export default \".smt-spinner-circle {\\r\\n  width: 50px;\\r\\n  height: 50px;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n  margin: auto;\\r\\n  background: blue;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.smt-spinner-inner-circle {\\r\\n  width: 92%;\\r\\n  height: 92%;\\r\\n  background: red;\\r\\n  border-radius: 50%;\\r\\n  margin: auto;\\r\\n  vertical-align: middle;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.smt-spinner {\\r\\n  height: 0;\\r\\n  width: 0;\\r\\n  border-radius: 50%;\\r\\n  border-right: 25px solid rgba(255,255,255,0.6);\\r\\n  border-top: 25px solid transparent;\\r\\n  border-left: 25px solid transparent;\\r\\n  border-bottom: 25px solid transparent;\\r\\n  -webkit-animation: rotate--spinner 1.6s infinite;\\r\\n          animation: rotate--spinner 1.6s infinite;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes rotate--spinner {\\r\\n  from {\\r\\n    -webkit-transform: rotate(0);\\r\\n            transform: rotate(0);\\r\\n  }\\r\\n  to {\\r\\n    -webkit-transform: rotate(360deg);\\r\\n            transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes rotate--spinner {\\r\\n  from {\\r\\n    -webkit-transform: rotate(0);\\r\\n            transform: rotate(0);\\r\\n  }\\r\\n  to {\\r\\n    -webkit-transform: rotate(360deg);\\r\\n            transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbG9hZGluZy1zcGlubmVyL2xvYWRpbmctc3Bpbm5lci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxTQUFTO0VBQ1QsUUFBUTtFQUNSLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFdBQVc7RUFDWCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsU0FBUztFQUNULFFBQVE7QUFDVjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxRQUFRO0VBQ1Isa0JBQWtCO0VBQ2xCLDhDQUE4QztFQUM5QyxrQ0FBa0M7RUFDbEMsbUNBQW1DO0VBQ25DLHFDQUFxQztFQUNyQyxnREFBd0M7VUFBeEMsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0U7SUFDRSw0QkFBb0I7WUFBcEIsb0JBQW9CO0VBQ3RCO0VBQ0E7SUFDRSxpQ0FBeUI7WUFBekIseUJBQXlCO0VBQzNCO0FBQ0Y7O0FBUEE7RUFDRTtJQUNFLDRCQUFvQjtZQUFwQixvQkFBb0I7RUFDdEI7RUFDQTtJQUNFLGlDQUF5QjtZQUF6Qix5QkFBeUI7RUFDM0I7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29yZS9jb21wb25lbnRzL2xvYWRpbmctc3Bpbm5lci9sb2FkaW5nLXNwaW5uZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zbXQtc3Bpbm5lci1jaXJjbGUge1xyXG4gIHdpZHRoOiA1MHB4O1xyXG4gIGhlaWdodDogNTBweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBiYWNrZ3JvdW5kOiBibHVlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuLnNtdC1zcGlubmVyLWlubmVyLWNpcmNsZSB7XHJcbiAgd2lkdGg6IDkyJTtcclxuICBoZWlnaHQ6IDkyJTtcclxuICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5zbXQtc3Bpbm5lciB7XHJcbiAgaGVpZ2h0OiAwO1xyXG4gIHdpZHRoOiAwO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBib3JkZXItcmlnaHQ6IDI1cHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjYpO1xyXG4gIGJvcmRlci10b3A6IDI1cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWxlZnQ6IDI1cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMjVweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICBhbmltYXRpb246IHJvdGF0ZS0tc3Bpbm5lciAxLjZzIGluZmluaXRlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHJvdGF0ZS0tc3Bpbm5lciB7XHJcbiAgZnJvbSB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICB9XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-loading-spinner',\n  templateUrl: './loading-spinner.component.html',\n  styleUrls: ['./loading-spinner.component.css']\n})\nexport class LoadingSpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\nexport class Constant{\n\n    SERVICE_URL='http://localhost:1234';\n\n\n    \n    constructor(){\n        Object.defineProperty(this,\"SERVICE_URL\", {value: this.SERVICE_URL});\n    }\n}","export enum Role {\r\n    USER = 'USER',\r\n    ADMIN = 'ADMIN',\r\n    SUPERVISOR = 'SUPERVISOR'\r\n  }","import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/internal/Observable\";\r\nimport { AuthService } from \"../services/auth.service\";\r\nimport { JWTTokenService } from \"../services/jwttoken.service\";\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class AuthGuard implements CanActivate{\r\n\r\n    constructor(private authService:AuthService,private jwtTokenService:JWTTokenService,private router:Router){}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree>\r\n    {\r\n\r\n        const tokenRole = this.jwtTokenService.getRole();\r\n        const roles = this.getChildRole(route);\r\n        debugger;\r\n        if(!!tokenRole){\r\n            if(!!roles && !roles.includes(tokenRole[0])){\r\n                debugger;\r\n                if(this.router.url == '/auth' || this.router.url == '/'){\r\n                    this.router.navigate(['/auth']);\r\n                }else{\r\n                    this.router.navigate(['/']);\r\n                }\r\n\r\n            }\r\n            return true;\r\n        } else\r\n        {\r\n             this.router.navigate(['/auth']);\r\n        }\r\n    }\r\n\r\n\r\n    getChildRole(route:ActivatedRouteSnapshot){\r\n        \r\n        const hasRole = !!route.data.roles    \r\n        let role;\r\n        if(!hasRole && !!route.firstChild){\r\n            role = this.getChildRole(route.firstChild);\r\n        }else{\r\n            role = route.data.roles;\r\n        }\r\n        return role;\r\n    }\r\n\r\n}","import { HttpErrorResponse, HttpEvent, HttpEventType, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { catchError, map } from \"rxjs/operators\";\r\nimport { JWTTokenService } from \"../services/jwttoken.service\";\r\nimport { LocalStorageService } from \"../services/local-storage.service\";\r\n\r\nexport interface RequestResponse\r\n{\r\n   status:string,\r\n   code:number,\r\n   error:string,\r\n   data:any;\r\n}\r\n\r\n@Injectable()\r\nexport class AuthInterceptorService implements HttpInterceptor{\r\n    constructor(private router:Router,private localStorageService:LocalStorageService,\r\n        private jwtTokenService:JWTTokenService){}\r\n    \r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>\r\n    {\r\n        const token = this.jwtTokenService.getJwtToken();\r\n    \r\n        // this.localStorageService.userTokenChange.pipe(take(1),exhaustMap(user =>{}));\r\n      \r\n           if(!token){\r\n               return next.handle(req);\r\n           }\r\n           const modifiedReq = req.clone({ headers: req.headers.set('Authorization', 'bearer' + token._token) });\r\n           return next.handle(modifiedReq)\r\n           .pipe(\r\n                map((event: HttpEvent<HttpEventType>) =>\r\n                {\r\n                   if (event instanceof HttpResponse)\r\n                   {\r\n                    \r\n                      if(event.body){\r\n                          const requestResponse: RequestResponse = JSON.parse(JSON.stringify(event.body));\r\n                          return event.clone({\r\n                              body: requestResponse.data\r\n                          });\r\n                      }\r\n                   }\r\n                  \r\n\r\n                   return event;\r\n               })\r\n           ,catchError((err) => {\r\n               if(err instanceof HttpErrorResponse){\r\n                if(err.status === 401){\r\n                    if(err.error.error == 'invalid_token'){\r\n                        this.router.navigate(['/auth']);\r\n                    }\r\n                }\r\n               }\r\n               \r\n               return Observable.throw(err);\r\n           })\r\n        )\r\n       \r\n    }\r\n    \r\n}","import { Role } from \"../enums/Role.enum\";\r\nimport { AccountDetail } from \"./account-detail.model\";\r\n\r\nexport class Account{\r\n\r\n    public id:number;\r\n    public username:string;\r\n    public roleType:string[];\r\n    public accountDetail:AccountDetail;\r\n\r\n    constructor(username:string,accountDetail:AccountDetail,id?:number,roleType?:string[]){\r\n        this.id=id;\r\n        this.username = username;\r\n        this.accountDetail=accountDetail;\r\n        this.roleType=roleType;\r\n    }\r\n\r\n    public isAdmin():boolean{\r\n       return this.roleType.includes(Role.ADMIN);\r\n    }\r\n\r\n    public isSupervisor():boolean{\r\n       return this.roleType.includes(Role.SUPERVISOR);\r\n    }\r\n\r\n}","export class UserToken{\r\n    constructor(\r\n        public username:string,\r\n        public _token:string,\r\n        public _tokenExpirationDate: Date,\r\n        public _rtoken:string\r\n    ){}\r\n\r\n    get token(){\r\n        if (!this._tokenExpirationDate || new Date > this._tokenExpirationDate)\r\n        {\r\n            return null;\r\n        }\r\n        return this._token;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { HttpClient, HttpErrorResponse } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { BehaviorSubject, throwError } from \"rxjs\";\nimport { catchError, tap } from \"rxjs/operators\";\nimport { Constant } from \"../constant/constant\";\nimport { AccountDetail } from \"../model/account-detail.model\";\nimport { Account } from \"../model/account.model\";\nimport { UserToken } from \"../model/user-token.model\";\nimport { JWTTokenService } from \"./jwttoken.service\";\n\nexport interface AuthResponseData\n{\n    access_token:string,\n    expires_in:number,\n    refresh_token:string,\n    scope:string,\n    token_type:string;\n\n}\n\n@Injectable({providedIn : 'root'})\nexport class AuthService{\n \n    account = new BehaviorSubject<Account>(this.getAccount());\n    constant = new Constant();\n\n    constructor(\n        private jwtTokenService:JWTTokenService,\n        private router:Router,\n        private httpClient: HttpClient){}\n\n    public autoLogin(){\n        \n        const userData:{\n            username:string\n            _rtoken:string\n            _token:string,\n            _tokenExpirationDate:Date\n        }=JSON.parse(localStorage.getItem('auth'));\n        if(!userData){\n            return;\n        }\n        const decodedToken = this.parseJwt(userData._rtoken);\n\n        if (!decodedToken){\n            return;\n        }\n        const accountDetail:AccountDetail = decodedToken['user_detail'];\n        const account:Account = new Account(decodedToken['user_name'],accountDetail);\n\n     //   const user = new UserToken(userData.username,userData._token,userData._tokenExpirationDate,userData._rtoken);\n      //  this.userToken.next(user);\n      //  this.userService.getUserDetail(userData.username);\n        \n\n    }\n    \n    public login(username: string, password: string){\n\n        var formData: any = new FormData();\n        formData.append('grant_type', 'password');\n        formData.append('client_id', 'mocpin');\n        formData.append('client_secret', 'mocpinSecret');\n        formData.append('username', username);\n        formData.append('password', password);\n        return this.httpClient.post<AuthResponseData>(\n            this.constant.SERVICE_URL+\"/oauth/token\",\n            formData\n        ).pipe(catchError(this.handleError),tap(resData =>{\n            console.log(\"hello\");\n            const expirationDate = new Date(new Date().getTime() + +resData.expires_in * 1000);\n            const userToken = new UserToken(username, resData.access_token, expirationDate, resData.refresh_token);\n            this.jwtTokenService.setToken(userToken);\n            const account = this.getAccount();\n            this.account.next(account);\n        }));\n    }\n\n    getAccount(){\n        const decodedToken = this.jwtTokenService.getDecodeToken();\n        if(!!decodedToken){\n            const accountDetail: AccountDetail = decodedToken.user_detail;\n            var account: Account = new Account(decodedToken['user_name'], accountDetail,null,this.jwtTokenService.getRole());\n        }    \n       return account;\n    }\n\n    private handleError(errRes: HttpErrorResponse)\n    {\n        let errorMessage = 'beklenmeyen hata';\n        switch(errRes.error.error){\n            case 'invalid_grant':\n              errorMessage = 'Kullanıcı Adı/Şifre hatası. Lütfen tekrar deneyiniz.';  \n              break; \n        }\n       return throwError(errorMessage);\n    }\n\n    public logout(){\n        this.router.navigate(['/auth']);\n        this.jwtTokenService.removeToken();\n    }\n\n    public parseJwt(token)\n    {\n            let jwtData = token.split('.')[1]\n            let decodedJwtJsonData = window.atob(jwtData)\n            let decodedJwtData = JSON.parse(decodedJwtJsonData)\n            return decodedJwtData;\n    }\n}","import { Injectable } from \"@angular/core\";\r\nimport { UserToken } from \"../model/user-token.model\";\r\nimport { LocalStorageService } from \"./local-storage.service\";\r\n\r\n@Injectable({providedIn :'root'})\r\nexport class JWTTokenService{\r\n\r\n    jwtToken:UserToken;\r\n    decodedToken: { [key: string]: any };\r\n \r\n    constructor(private localStorageService:LocalStorageService) {\r\n    }\r\n \r\n    setToken(token:UserToken) {\r\n      if (token) {\r\n        this.localStorageService.putUserToken(token);\r\n      }\r\n    }\r\n \r\n    getJwtToken(){\r\n        this.jwtToken = JSON.parse(localStorage.getItem(\"AUTH\"));\r\n        return this.jwtToken; \r\n    }\r\n\r\n    private decodeToken() {\r\n      this.getJwtToken();\r\n      if (!!this.jwtToken) {\r\n      this.decodedToken = JSON.parse(window.atob(this.jwtToken._token.split(\".\")[1]));\r\n      }\r\n    }\r\n \r\n    getDecodeToken() {\r\n      this.decodeToken();  \r\n      return this.decodedToken;\r\n    }\r\n \r\n    getUser() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.displayname : null;\r\n    }\r\n\r\n    getRole(){\r\n        this.decodeToken();\r\n        if(this.jwtToken){\r\n            const authorities:any = this.decodedToken['authorities'];    \r\n            for(let i=0; i<authorities.length; i++){\r\n                authorities[i] = authorities[i].replace('ROLE_','');\r\n            }\r\n            return authorities;\r\n        }\r\n    }\r\n \r\n    getEmailId() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.email : null;\r\n    }\r\n \r\n    getExpiryTime() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.exp : null;\r\n    }\r\n \r\n    isTokenExpired(): boolean {\r\n      const expiryTime: number = +this.getExpiryTime();\r\n      if (expiryTime) {\r\n        return ((1000 * expiryTime) - (new Date()).getTime()) < 5000;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    removeToken(){\r\n      this.jwtToken = null;\r\n      this.decodedToken = null;\r\n      this.localStorageService.removeTokenUser();\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\nimport { Province } from \"../model/province.model\";\nimport { UserToken } from \"../model/user-token.model\";\n\n@Injectable({ providedIn: 'root'})\nexport class LocalStorageService{\n\n   \n    public putUserToken(userToken:UserToken){\n        localStorage.setItem('AUTH',JSON.stringify(userToken));\n    }\n\n    public getUserToken()\n    {\n        return JSON.parse(localStorage.getItem(\"AUTH\"));\n    }\n\n    public removeTokenUser(){\n        localStorage.removeItem('AUTH');\n    }\n\n    public getProvinceList(): Province[] {\n        return JSON.parse(localStorage.getItem(\"provinceList\"));\n    }\n\n    public setProvinceList(province: Province[]): Province[] {\n        localStorage.setItem(\"provinceList\",JSON.stringify(province));\n        return JSON.parse(localStorage.getItem(\"provinceList\"));\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","/*!\n\n=========================================================\n* Argon Dashboard Angular - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-angular\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-angular/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}