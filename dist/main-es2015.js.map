{"version":3,"sources":["./src/app/app.component.html","./src/app/modules/core/components/loading-spinner/loading-spinner.component.html","./src/$_lazy_route_resource lazy namespace object","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/modules/core/components/loading-spinner/loading-spinner.component.css","./src/app/modules/core/components/loading-spinner/loading-spinner.component.ts","./src/app/modules/core/constant/constant.ts","./src/app/modules/core/enums/Role.enum.ts","./src/app/modules/core/guard/auth.guard.ts","./src/app/modules/core/interceptors/auth-interceptor.service.ts","./src/app/modules/core/model/account.model.ts","./src/app/modules/core/model/user-token.model.ts","./src/app/modules/core/services/auth.service.ts","./src/app/modules/core/services/jwttoken.service.ts","./src/app/modules/core/services/local-storage.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["export default \"<div *ngIf=\\\"loading\\\" id=\\\"spinner\\\" style=\\\"position: absolute; z-index: 1 important!;\\\">\\n    <app-loading-spinner></app-loading-spinner>\\n</div>\\n<router-outlet ></router-outlet>\\n\\n\"","export default \"<div class=\\\"smt-spinner-circle\\\">\\n    <div class=\\\"smt-spinner\\\"></div>\\n    <div class=\\\"smt-spinner-inner-circle\\\"></div>\\n    <div style=\\\"text-align: center;\\\">Yükleniyor</div> \\n </div>\"","var map = {\n\t\"./modules/auth/auth.module\": [\n\t\t\"./src/app/modules/auth/auth.module.ts\",\n\t\t\"modules-auth-auth-module\"\n\t],\n\t\"./modules/core/components/core.module\": [\n\t\t\"./src/app/modules/core/components/core.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-account-account-module\",\n\t\t\"modules-core-components-core-module\"\n\t],\n\t\"src/app/modules/account/account.module\": [\n\t\t\"./src/app/modules/account/account.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-account-account-module\"\n\t],\n\t\"src/app/modules/branch/branch.module\": [\n\t\t\"./src/app/modules/branch/branch.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~src-app-modules-branch-branch-module~src-app-modules-company-company-module\"\n\t],\n\t\"src/app/modules/company/company.module\": [\n\t\t\"./src/app/modules/company/company.module.ts\",\n\t\t\"default~modules-core-components-core-module~src-app-modules-branch-branch-module~src-app-modules-com~9c33fe46\",\n\t\t\"default~src-app-modules-branch-branch-module~src-app-modules-company-company-module\",\n\t\t\"src-app-modules-company-company-module\"\n\t],\n\t\"src/app/modules/loyalty/loyalty.module\": [\n\t\t\"./src/app/modules/loyalty/loyalty.module.ts\",\n\t\t\"src-app-modules-loyalty-loyalty-module\"\n\t],\n\t\"src/app/modules/settings/settings.module\": [\n\t\t\"./src/app/modules/settings/settings.module.ts\",\n\t\t\"src-app-modules-settings-settings-module\"\n\t],\n\t\"src/app/modules/user/user.module\": [\n\t\t\"./src/app/modules/user/user.module.ts\",\n\t\t\"src-app-modules-user-user-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","export default \"#spinner {\\n  position: fixed;\\n  height: 100vh;\\n  width: 100vw;\\n  background-color: black;\\n  opacity: 0.7;\\n  z-index: 1;  \\n}\\n\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7RUFDWix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLFVBQVU7QUFDWiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3NwaW5uZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGhlaWdodDogMTAwdmg7XG4gIHdpZHRoOiAxMDB2dztcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gIG9wYWNpdHk6IDAuNztcbiAgei1pbmRleDogMTsgIFxufVxuXG5cblxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavigationCancel, NavigationEnd, NavigationError, NavigationStart, Router, RouterEvent } from '@angular/router';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n\n  title: string = 'AGM project';\n  lat: number;\n  lng: number;\n  zoom: number;\n  loading = true;\n\n  \n  constructor(private router: Router) {\n    this.router.events.subscribe((e : RouterEvent) => {\n        console.log(\"navigate\");\n        this.navigationInterceptor(e);\n      \n       \n     });\n  }\n\n  // Shows and hides the loading spinner during RouterEvent changes\n  navigationInterceptor(event: RouterEvent): void {\n    if (event instanceof NavigationStart) {\n      this.loading = true\n    }\n\n    setTimeout(() =>{\n      if (event instanceof NavigationEnd) {\n        this.loading = false\n      }\n  \n      // Set loading state to false in both of the below events to hide the spinner in case a request fails\n      if (event instanceof NavigationCancel) {\n        this.loading = false\n      }\n      if (event instanceof NavigationError) {\n        this.loading = false\n      }\n    },300);\n    \n  }\n  ngOnInit(): void\n  {\n    this.title = 'My first AGM project';\n    this.lat = 51.678418;\n    this.lng = 7.809007;\n  }\n \n}","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouterModule } from '@angular/router';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app.routing';\nimport { LoadingSpinnerComponent } from './modules/core/components/loading-spinner/loading-spinner.component';\nimport { AuthInterceptorService } from './modules/core/interceptors/auth-interceptor.service';\n\n\n@NgModule({\n  imports: [\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    NgbModule,\n    RouterModule,\n    AppRoutingModule,\n    \n  ],\n  declarations: [\n    AppComponent,\n    LoadingSpinnerComponent\n  ],\n  providers: [ {provide: HTTP_INTERCEPTORS, useClass: AuthInterceptorService, multi:true}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Role } from './modules/core/enums/Role.enum';\nimport { AuthGuard } from './modules/core/guard/auth.guard';\n\n\nconst routes: Routes =[\n \n  {\n    path: '',\n    loadChildren: './modules/core/components/core.module#CoreModule',\n    canActivate:[AuthGuard],\n    data: { roles : [Role.ADMIN,Role.SUPERVISOR]}\n    \n  },\n  {\n    path: 'auth', loadChildren: './modules/auth/auth.module#AuthModule'\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserModule,\n    RouterModule.forRoot(routes,{\n      useHash: false\n    })\n  ],\n  exports: [\n  ],\n})\nexport class AppRoutingModule { }\n","export default \".smt-spinner-circle {\\r\\n  width: 50px;\\r\\n  height: 50px;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n  margin: auto;\\r\\n  background: blue;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.smt-spinner-inner-circle {\\r\\n  width: 92%;\\r\\n  height: 92%;\\r\\n  background: red;\\r\\n  border-radius: 50%;\\r\\n  margin: auto;\\r\\n  vertical-align: middle;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.smt-spinner {\\r\\n  height: 0;\\r\\n  width: 0;\\r\\n  border-radius: 50%;\\r\\n  border-right: 25px solid rgba(255,255,255,0.6);\\r\\n  border-top: 25px solid transparent;\\r\\n  border-left: 25px solid transparent;\\r\\n  border-bottom: 25px solid transparent;\\r\\n  -webkit-animation: rotate--spinner 1.6s infinite;\\r\\n          animation: rotate--spinner 1.6s infinite;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes rotate--spinner {\\r\\n  from {\\r\\n    -webkit-transform: rotate(0);\\r\\n            transform: rotate(0);\\r\\n  }\\r\\n  to {\\r\\n    -webkit-transform: rotate(360deg);\\r\\n            transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes rotate--spinner {\\r\\n  from {\\r\\n    -webkit-transform: rotate(0);\\r\\n            transform: rotate(0);\\r\\n  }\\r\\n  to {\\r\\n    -webkit-transform: rotate(360deg);\\r\\n            transform: rotate(360deg);\\r\\n  }\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9jb3JlL2NvbXBvbmVudHMvbG9hZGluZy1zcGlubmVyL2xvYWRpbmctc3Bpbm5lci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxTQUFTO0VBQ1QsUUFBUTtFQUNSLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFdBQVc7RUFDWCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsU0FBUztFQUNULFFBQVE7QUFDVjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxRQUFRO0VBQ1Isa0JBQWtCO0VBQ2xCLDhDQUE4QztFQUM5QyxrQ0FBa0M7RUFDbEMsbUNBQW1DO0VBQ25DLHFDQUFxQztFQUNyQyxnREFBd0M7VUFBeEMsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0U7SUFDRSw0QkFBb0I7WUFBcEIsb0JBQW9CO0VBQ3RCO0VBQ0E7SUFDRSxpQ0FBeUI7WUFBekIseUJBQXlCO0VBQzNCO0FBQ0Y7O0FBUEE7RUFDRTtJQUNFLDRCQUFvQjtZQUFwQixvQkFBb0I7RUFDdEI7RUFDQTtJQUNFLGlDQUF5QjtZQUF6Qix5QkFBeUI7RUFDM0I7QUFDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvY29yZS9jb21wb25lbnRzL2xvYWRpbmctc3Bpbm5lci9sb2FkaW5nLXNwaW5uZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zbXQtc3Bpbm5lci1jaXJjbGUge1xyXG4gIHdpZHRoOiA1MHB4O1xyXG4gIGhlaWdodDogNTBweDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgYm90dG9tOiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBiYWNrZ3JvdW5kOiBibHVlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuLnNtdC1zcGlubmVyLWlubmVyLWNpcmNsZSB7XHJcbiAgd2lkdGg6IDkyJTtcclxuICBoZWlnaHQ6IDkyJTtcclxuICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbn1cclxuXHJcbi5zbXQtc3Bpbm5lciB7XHJcbiAgaGVpZ2h0OiAwO1xyXG4gIHdpZHRoOiAwO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBib3JkZXItcmlnaHQ6IDI1cHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjYpO1xyXG4gIGJvcmRlci10b3A6IDI1cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWxlZnQ6IDI1cHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMjVweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICBhbmltYXRpb246IHJvdGF0ZS0tc3Bpbm5lciAxLjZzIGluZmluaXRlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHJvdGF0ZS0tc3Bpbm5lciB7XHJcbiAgZnJvbSB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICB9XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-loading-spinner',\n  templateUrl: './loading-spinner.component.html',\n  styleUrls: ['./loading-spinner.component.css']\n})\nexport class LoadingSpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","\n\nexport class Constant{\n\n    SERVICE_URL='http://localhost:1234';\n\n\n    \n    constructor(){\n        Object.defineProperty(this,\"SERVICE_URL\", {value: this.SERVICE_URL});\n    }\n}","export enum Role {\r\n    USER = 'USER',\r\n    ADMIN = 'ADMIN',\r\n    SUPERVISOR = 'SUPERVISOR'\r\n  }","import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/internal/Observable\";\r\nimport { AuthService } from \"../services/auth.service\";\r\nimport { JWTTokenService } from \"../services/jwttoken.service\";\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class AuthGuard implements CanActivate{\r\n\r\n    constructor(private authService:AuthService,private jwtTokenService:JWTTokenService,private router:Router){}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree>\r\n    {\r\n\r\n        const tokenRole = this.jwtTokenService.getRole();\r\n        const roles = this.getChildRole(route);\r\n        debugger;\r\n        if(!!tokenRole){\r\n            if(!!roles && !roles.includes(tokenRole[0])){\r\n                debugger;\r\n                if(this.router.url == '/auth' || this.router.url == '/'){\r\n                    this.router.navigate(['/auth']);\r\n                }else{\r\n                    this.router.navigate(['/']);\r\n                }\r\n\r\n            }\r\n            return true;\r\n        } else\r\n        {\r\n             this.router.navigate(['/auth']);\r\n        }\r\n    }\r\n\r\n\r\n    getChildRole(route:ActivatedRouteSnapshot){\r\n        \r\n        const hasRole = !!route.data.roles    \r\n        let role;\r\n        if(!hasRole && !!route.firstChild){\r\n            role = this.getChildRole(route.firstChild);\r\n        }else{\r\n            role = route.data.roles;\r\n        }\r\n        return role;\r\n    }\r\n\r\n}","import { HttpErrorResponse, HttpEvent, HttpEventType, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { catchError, map } from \"rxjs/operators\";\r\nimport { JWTTokenService } from \"../services/jwttoken.service\";\r\nimport { LocalStorageService } from \"../services/local-storage.service\";\r\n\r\nexport interface RequestResponse\r\n{\r\n   status:string,\r\n   code:number,\r\n   error:string,\r\n   data:any;\r\n}\r\n\r\n@Injectable()\r\nexport class AuthInterceptorService implements HttpInterceptor{\r\n    constructor(private router:Router,private localStorageService:LocalStorageService,\r\n        private jwtTokenService:JWTTokenService){}\r\n    \r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>\r\n    {\r\n        const token = this.jwtTokenService.getJwtToken();\r\n    \r\n        // this.localStorageService.userTokenChange.pipe(take(1),exhaustMap(user =>{}));\r\n      \r\n           if(!token){\r\n               return next.handle(req);\r\n           }\r\n           const modifiedReq = req.clone({ headers: req.headers.set('Authorization', 'bearer' + token._token) });\r\n           return next.handle(modifiedReq)\r\n           .pipe(\r\n                map((event: HttpEvent<HttpEventType>) =>\r\n                {\r\n                   if (event instanceof HttpResponse)\r\n                   {\r\n                    \r\n                      if(event.body){\r\n                          const requestResponse: RequestResponse = JSON.parse(JSON.stringify(event.body));\r\n                          return event.clone({\r\n                              body: requestResponse.data\r\n                          });\r\n                      }\r\n                   }\r\n                  \r\n\r\n                   return event;\r\n               })\r\n           ,catchError((err) => {\r\n               if(err instanceof HttpErrorResponse){\r\n                if(err.status === 401){\r\n                    if(err.error.error == 'invalid_token'){\r\n                        this.router.navigate(['/auth']);\r\n                    }\r\n                }\r\n               }\r\n               \r\n               return Observable.throw(err);\r\n           })\r\n        )\r\n       \r\n    }\r\n    \r\n}","import { Role } from \"../enums/Role.enum\";\r\nimport { AccountDetail } from \"./account-detail.model\";\r\n\r\nexport class Account{\r\n\r\n    public id:number;\r\n    public username:string;\r\n    public roleType:string[];\r\n    public accountDetail:AccountDetail;\r\n\r\n    constructor(username:string,accountDetail:AccountDetail,id?:number,roleType?:string[]){\r\n        this.id=id;\r\n        this.username = username;\r\n        this.accountDetail=accountDetail;\r\n        this.roleType=roleType;\r\n    }\r\n\r\n    public isAdmin():boolean{\r\n       return this.roleType.includes(Role.ADMIN);\r\n    }\r\n\r\n    public isSupervisor():boolean{\r\n       return this.roleType.includes(Role.SUPERVISOR);\r\n    }\r\n\r\n}","export class UserToken{\r\n    constructor(\r\n        public username:string,\r\n        public _token:string,\r\n        public _tokenExpirationDate: Date,\r\n        public _rtoken:string\r\n    ){}\r\n\r\n    get token(){\r\n        if (!this._tokenExpirationDate || new Date > this._tokenExpirationDate)\r\n        {\r\n            return null;\r\n        }\r\n        return this._token;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { HttpClient, HttpErrorResponse } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { BehaviorSubject, throwError } from \"rxjs\";\nimport { catchError, tap } from \"rxjs/operators\";\nimport { Constant } from \"../constant/constant\";\nimport { AccountDetail } from \"../model/account-detail.model\";\nimport { Account } from \"../model/account.model\";\nimport { UserToken } from \"../model/user-token.model\";\nimport { JWTTokenService } from \"./jwttoken.service\";\n\nexport interface AuthResponseData\n{\n    access_token:string,\n    expires_in:number,\n    refresh_token:string,\n    scope:string,\n    token_type:string;\n\n}\n\n@Injectable({providedIn : 'root'})\nexport class AuthService{\n \n    account = new BehaviorSubject<Account>(this.getAccount());\n    constant = new Constant();\n\n    constructor(\n        private jwtTokenService:JWTTokenService,\n        private router:Router,\n        private httpClient: HttpClient){}\n\n    public autoLogin(){\n        \n        const userData:{\n            username:string\n            _rtoken:string\n            _token:string,\n            _tokenExpirationDate:Date\n        }=JSON.parse(localStorage.getItem('auth'));\n        if(!userData){\n            return;\n        }\n        const decodedToken = this.parseJwt(userData._rtoken);\n\n        if (!decodedToken){\n            return;\n        }\n        const accountDetail:AccountDetail = decodedToken['user_detail'];\n        const account:Account = new Account(decodedToken['user_name'],accountDetail);\n\n     //   const user = new UserToken(userData.username,userData._token,userData._tokenExpirationDate,userData._rtoken);\n      //  this.userToken.next(user);\n      //  this.userService.getUserDetail(userData.username);\n        \n\n    }\n    \n    public login(username: string, password: string){\n\n        var formData: any = new FormData();\n        formData.append('grant_type', 'password');\n        formData.append('client_id', 'mocpin');\n        formData.append('client_secret', 'mocpinSecret');\n        formData.append('username', username);\n        formData.append('password', password);\n        return this.httpClient.post<AuthResponseData>(\n            this.constant.SERVICE_URL+\"/oauth/token\",\n            formData\n        ).pipe(catchError(this.handleError),tap(resData =>{\n            console.log(\"hello\");\n            const expirationDate = new Date(new Date().getTime() + +resData.expires_in * 1000);\n            const userToken = new UserToken(username, resData.access_token, expirationDate, resData.refresh_token);\n            this.jwtTokenService.setToken(userToken);\n            const account = this.getAccount();\n            this.account.next(account);\n        }));\n    }\n\n    getAccount(){\n        const decodedToken = this.jwtTokenService.getDecodeToken();\n        if(!!decodedToken){\n            const accountDetail: AccountDetail = decodedToken.user_detail;\n            var account: Account = new Account(decodedToken['user_name'], accountDetail,null,this.jwtTokenService.getRole());\n        }    \n       return account;\n    }\n\n    private handleError(errRes: HttpErrorResponse)\n    {\n        let errorMessage = 'beklenmeyen hata';\n        switch(errRes.error.error){\n            case 'invalid_grant':\n              errorMessage = 'Kullanıcı Adı/Şifre hatası. Lütfen tekrar deneyiniz.';  \n              break; \n        }\n       return throwError(errorMessage);\n    }\n\n    public logout(){\n        this.router.navigate(['/auth']);\n        this.jwtTokenService.removeToken();\n    }\n\n    public parseJwt(token)\n    {\n            let jwtData = token.split('.')[1]\n            let decodedJwtJsonData = window.atob(jwtData)\n            let decodedJwtData = JSON.parse(decodedJwtJsonData)\n            return decodedJwtData;\n    }\n}","import { Injectable } from \"@angular/core\";\r\nimport { UserToken } from \"../model/user-token.model\";\r\nimport { LocalStorageService } from \"./local-storage.service\";\r\n\r\n@Injectable({providedIn :'root'})\r\nexport class JWTTokenService{\r\n\r\n    jwtToken:UserToken;\r\n    decodedToken: { [key: string]: any };\r\n \r\n    constructor(private localStorageService:LocalStorageService) {\r\n    }\r\n \r\n    setToken(token:UserToken) {\r\n      if (token) {\r\n        this.localStorageService.putUserToken(token);\r\n      }\r\n    }\r\n \r\n    getJwtToken(){\r\n        this.jwtToken = JSON.parse(localStorage.getItem(\"AUTH\"));\r\n        return this.jwtToken; \r\n    }\r\n\r\n    private decodeToken() {\r\n      this.getJwtToken();\r\n      if (!!this.jwtToken) {\r\n      this.decodedToken = JSON.parse(window.atob(this.jwtToken._token.split(\".\")[1]));\r\n      }\r\n    }\r\n \r\n    getDecodeToken() {\r\n      this.decodeToken();  \r\n      return this.decodedToken;\r\n    }\r\n \r\n    getUser() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.displayname : null;\r\n    }\r\n\r\n    getRole(){\r\n        this.decodeToken();\r\n        if(this.jwtToken){\r\n            const authorities:any = this.decodedToken['authorities'];    \r\n            for(let i=0; i<authorities.length; i++){\r\n                authorities[i] = authorities[i].replace('ROLE_','');\r\n            }\r\n            return authorities;\r\n        }\r\n    }\r\n \r\n    getEmailId() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.email : null;\r\n    }\r\n \r\n    getExpiryTime() {\r\n      this.decodeToken();\r\n      return this.decodedToken ? this.decodedToken.exp : null;\r\n    }\r\n \r\n    isTokenExpired(): boolean {\r\n      const expiryTime: number = +this.getExpiryTime();\r\n      if (expiryTime) {\r\n        return ((1000 * expiryTime) - (new Date()).getTime()) < 5000;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    removeToken(){\r\n      this.jwtToken = null;\r\n      this.decodedToken = null;\r\n      this.localStorageService.removeTokenUser();\r\n    }\r\n}","import { Injectable } from \"@angular/core\";\nimport { Province } from \"../model/province.model\";\nimport { UserToken } from \"../model/user-token.model\";\n\n@Injectable({ providedIn: 'root'})\nexport class LocalStorageService{\n\n   \n    public putUserToken(userToken:UserToken){\n        localStorage.setItem('AUTH',JSON.stringify(userToken));\n    }\n\n    public getUserToken()\n    {\n        return JSON.parse(localStorage.getItem(\"AUTH\"));\n    }\n\n    public removeTokenUser(){\n        localStorage.removeItem('AUTH');\n    }\n\n    public getProvinceList(): Province[] {\n        return JSON.parse(localStorage.getItem(\"provinceList\"));\n    }\n\n    public setProvinceList(province: Province[]): Province[] {\n        localStorage.setItem(\"provinceList\",JSON.stringify(province));\n        return JSON.parse(localStorage.getItem(\"provinceList\"));\n    }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","/*!\n\n=========================================================\n* Argon Dashboard Angular - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-angular\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-angular/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}